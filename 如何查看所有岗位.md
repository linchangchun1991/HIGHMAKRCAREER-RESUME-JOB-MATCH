# 如何查看所有岗位数据

## 📊 当前数据统计

- **数据库总岗位数**: 698个
- **涉及公司数**: 33家
- **数据存储位置**: `jobs.db` (SQLite数据库)

## 🔍 查看方式

### 方式1: 查看Excel文件（推荐）

**文件位置**: `job_hunting_results_20251205.xlsx`

这个Excel文件包含了所有698个岗位的完整信息：
- 岗位名称
- 公司名称
- 岗位链接
- 抓取时间

**使用方法**:
1. 直接双击打开Excel文件
2. 可以使用Excel的筛选、排序功能
3. 可以搜索特定关键词

**重新导出**:
```bash
python3 export_all_jobs.py
```

### 方式2: 查看数据库文件

**文件位置**: `jobs.db`

**使用SQLite命令行查看**:

```bash
# 查看所有岗位
sqlite3 jobs.db "SELECT * FROM posted_jobs;"

# 查看岗位数量
sqlite3 jobs.db "SELECT COUNT(*) FROM posted_jobs;"

# 查看最近10个岗位
sqlite3 jobs.db "SELECT title, company, created_at FROM posted_jobs ORDER BY created_at DESC LIMIT 10;"

# 按公司分组统计
sqlite3 jobs.db "SELECT company, COUNT(*) as count FROM posted_jobs GROUP BY company ORDER BY count DESC;"

# 搜索特定关键词
sqlite3 jobs.db "SELECT * FROM posted_jobs WHERE title LIKE '%实习%';"
```

**使用SQLite可视化工具**:
- DB Browser for SQLite (免费)
- TablePlus (Mac)
- DBeaver (跨平台)

### 方式3: 在钉钉消息中查看

**优化后的消息格式**:
- 显示前50个岗位（之前是20个）
- 按需求分类分组显示
- 显示每个分组的岗位数量
- 提供Excel文件路径提示

**如果岗位超过50个**:
- 消息底部会显示剩余数量
- 提示查看Excel文件或数据库

## 📱 钉钉消息优化说明

### 优化内容

1. **显示数量增加**: 从20个增加到50个
2. **分组显示**: 按需求分类（关键词）分组，显示每个分组的数量
3. **Excel提示**: 自动生成Excel文件，并在消息中提示路径
4. **查看方式**: 提供多种查看方式的说明

### 消息格式示例

```
## 📢 招聘雷达 | 新增岗位 698 个

**抓取时间**: 2025-12-05 14:30:00
**数据库总岗位数**: 698

**📊 完整数据**: 已导出到Excel文件
📁 文件路径: `job_hunting_results_20251205.xlsx`

---

### 📌 策展助理, 科普展览, 文案编辑 (15个)

- **[文案编辑策划实习](链接)** - 公司名 (地点)
- **[内容运营实习](链接)** - 公司名 (地点)
...

### 📌 环保公益, 自然保护 (20个)

- **[环保实习](链接)** - 公司名 (地点)
...

---

**📋 还有 648 个岗位未显示**

**查看方式**:
1. 📊 查看Excel文件: `job_hunting_results_20251205.xlsx`
2. 💾 数据库文件: `jobs.db`
3. 🔍 使用SQLite查看: `sqlite3 jobs.db "SELECT * FROM posted_jobs;"`
```

## 🔄 自动导出

脚本会在每次抓取完成后自动：
1. 导出所有岗位到Excel文件
2. 文件名格式: `job_hunting_results_YYYYMMDD.xlsx`
3. 文件保存在脚本运行目录

## 💡 提示

1. **Excel文件位置**: 在脚本运行的目录下（通常是Desktop）
2. **数据库文件**: `jobs.db` 在同一目录
3. **文件更新**: 每次抓取完成后会自动更新Excel文件
4. **历史数据**: 数据库会保留所有历史数据，Excel文件会覆盖同一天的文件

## 🛠️ 手动导出

如果需要手动导出，运行：

```bash
python3 export_all_jobs.py
```

这会生成最新的Excel文件，包含数据库中的所有岗位。

---

**最后更新**: 2025-12-05

