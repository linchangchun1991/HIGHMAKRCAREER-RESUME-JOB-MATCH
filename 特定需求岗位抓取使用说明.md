# 特定需求岗位抓取使用说明

## 功能说明

这个脚本专门用于抓取符合求职服务部老师们特定需求的岗位信息，支持从多个招聘网站（BOSS直聘、前程无忧、猎聘等）抓取岗位数据。

## 文件说明

- `specific_requirements_config.py`: 配置文件，包含所有特定需求的岗位配置
- `specific_requirements_scraper.py`: 主爬虫脚本
- `特定需求岗位.xlsx`: 输出的Excel文件

## 使用方法

### 1. 安装依赖

```bash
pip install playwright pandas openpyxl
playwright install chromium
```

### 2. 运行脚本

#### 方式一：使用示例数据（快速测试）

```bash
python3 specific_requirements_scraper.py
```

脚本默认使用示例数据，会生成10个测试岗位。

#### 方式二：从真实网站抓取

修改 `specific_requirements_scraper.py` 文件的 `main()` 函数：

```python
def main():
    scraper = SpecificRequirementsScraper(headless=True)
    # 设置为 False 以从真实网站抓取
    scraper.run(max_jobs_per_config=2, use_sample_data=False)
```

然后运行：

```bash
python3 specific_requirements_scraper.py
```

### 3. 抓取50个岗位

要抓取50个岗位，修改 `run()` 方法的调用：

```python
def main():
    scraper = SpecificRequirementsScraper(headless=True)
    # 抓取50个岗位，每个配置最多抓取5个
    scraper.run(max_jobs_per_config=5, use_sample_data=False)
```

同时修改 `run()` 方法中的限制：

```python
# 在 run() 方法中，将 test_configs 改为所有配置
test_configs = SPECIFIC_REQUIREMENTS  # 使用所有配置

# 将限制改为50
if len(all_results) >= 50:
    break
```

## 输出字段说明

Excel文件包含以下字段（如果某个字段没有数据，会自动删除该列）：

- **公司名称**（必需）
- **公司类型**：央国企、大厂、四大、八大等
- **工作地点**（必需）
- **招聘类型**：校招/社招
- **招聘对象**：2024届/2025届/2026届等
- **岗位**（必需）
- **薪资**：如 8K-15K
- **更新时间**
- **发布时间**
- **投递截止**
- **岗位详情链接**
- **投递链接**（必需）

## 配置说明

所有岗位需求配置在 `specific_requirements_config.py` 文件中，包括：

1. base苏州：金融、咨询、外企、快消、供应链、央国企等行业的风控、运营、市场、采购、管培等
2. base全国：央国企、银行等，人力资源方向
3. base全国：生物医药
4. 国际学校英语教师、双语民办、公立学校国际部、教培----英语老师的岗位
5. ...（共47个配置）

每个配置包含：
- `keywords`: 搜索关键词列表
- `locations`: 工作地点列表
- `industries`: 行业列表
- `grad_years`: 毕业年份列表
- `recruit_type`: 招聘类型（校招/社招）
- `notes`: 备注信息
- `company_type`: 公司类型要求

## 注意事项

1. **反爬虫限制**：真实网站可能有反爬虫机制，建议：
   - 使用 `headless=False` 查看浏览器行为
   - 增加 `random_sleep` 的等待时间
   - 使用代理IP（如需要）

2. **数据准确性**：由于网站结构可能变化，抓取的数据可能需要人工验证

3. **去重机制**：脚本会自动根据URL去重，避免重复岗位

4. **字段缺失**：如果某个字段在所有岗位中都为空，会自动删除该列

## 常见问题

### Q: 为什么抓取不到数据？

A: 可能原因：
- 网站结构变化，需要更新选择器
- 网站有反爬虫限制
- 网络连接问题

解决方案：
- 先使用示例数据测试功能
- 检查浏览器是否能正常访问网站
- 增加等待时间和重试次数

### Q: 如何添加新的岗位需求？

A: 在 `specific_requirements_config.py` 文件的 `SPECIFIC_REQUIREMENTS` 列表中添加新配置：

```python
{
    'keywords': ['关键词1', '关键词2'],
    'locations': ['城市1', '城市2'],
    'industries': ['行业1', '行业2'],
    'grad_years': [2024, 2025, 2026],
    'recruit_type': '校招/社招',
    'notes': '备注信息',
    'company_type': '公司类型要求'
}
```

### Q: 如何修改抓取的网站？

A: 在 `specific_requirements_scraper.py` 中修改 `search_jobs_for_config()` 方法，添加或删除网站搜索函数。

## 更新日志

- 2025-12-08: 初始版本，支持从BOSS直聘、前程无忧、猎聘抓取岗位

