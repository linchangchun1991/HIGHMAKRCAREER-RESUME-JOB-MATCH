# 教练端页面使用指南

## ✨ 核心功能

### 1. 巨大的上传区域
- ✅ **大尺寸设计**：600px 高度的上传区域，视觉冲击力强
- ✅ **拖拽支持**：支持拖拽文件上传，拖拽时有视觉反馈
- ✅ **上传动画**：
  - 拖拽时：图标变黑，区域放大，背景变深
  - 上传中：显示进度条和加载动画
  - 上传完成：显示成功图标和文件信息

### 2. 自动解析流程
- ✅ **自动触发**：文件上传成功后自动调用解析 API
- ✅ **进度显示**：实时显示上传和解析进度
- ✅ **状态反馈**：清晰的状态提示（解析中、匹配中）

### 3. 学员画像卡片
- ✅ **居中展示**：页面中间位置，突出重要性
- ✅ **结构化信息**：
  - 基本信息（姓名、邮箱、电话）
  - 教育背景
  - 核心技能（硬技能/软技能）
  - 项目经验
  - 求职意向
- ✅ **精美设计**：卡片式布局，图标增强可读性

### 4. 推荐岗位流式渲染
- ✅ **流式效果**：岗位逐个出现，每个延迟 400ms
- ✅ **环形进度条**：显示匹配度分数
  - 80+ 分：绿色（优秀匹配）
  - 60-79 分：蓝色（良好匹配）
  - 40-59 分：黄色（一般匹配）
  - <40 分：红色（低匹配）
- ✅ **AI 推荐理由**：每个岗位包含 AI 生成的推荐理由
- ✅ **完整信息**：岗位名、公司名、地点、薪资

### 5. HIGHMARK Logo
- ✅ **左上角位置**：固定在页面左上角
- ✅ **响应式设计**：移动端和桌面端自适应

## 🎨 设计特点

### 布局结构
```
┌─────────────────────────────────────────┐
│ HIGHMARK Logo                            │
├──────────┬──────────┬──────────────────┤
│          │          │                   │
│  上传区域  │ 学员画像  │   推荐岗位列表     │
│  (600px) │  卡片    │   (流式渲染)      │
│          │          │                   │
└──────────┴──────────┴──────────────────┘
```

### 视觉层次
1. **左侧**：上传区域（最大，吸引注意力）
2. **中间**：学员画像（核心信息展示）
3. **右侧**：推荐岗位（结果展示）

### 动画效果
- **上传区域**：
  - 拖拽时：缩放 + 颜色变化
  - 上传中：进度条动画
  - 完成时：成功图标淡入

- **岗位卡片**：
  - 流式出现：逐个淡入
  - 延迟效果：每个延迟 400ms
  - 悬停效果：阴影增强

## 📋 使用流程

### 1. 上传简历
- **方式一**：拖拽文件到上传区域
- **方式二**：点击"选择文件"按钮

### 2. 自动解析
- 文件上传成功后自动触发解析
- 显示进度条和加载状态
- 解析完成后显示学员画像

### 3. 自动匹配
- 解析完成后自动触发匹配 API
- 从岗位库获取所有活跃岗位
- 调用 AI 匹配算法

### 4. 流式渲染
- 匹配结果逐个显示
- 每个岗位卡片包含：
  - 环形进度条（匹配度）
  - 岗位名称
  - 公司名称
  - 地点和薪资
  - AI 推荐理由

## 🔧 技术实现

### 组件结构
```
components/
├── ui/
│   └── circular-progress.tsx    # 环形进度条组件
└── coach/
    ├── resume-profile-card.tsx  # 学员画像卡片
    └── job-match-card.tsx       # 推荐岗位卡片
```

### 状态管理
- `uploadedFile`: 上传的文件
- `parsedResume`: 解析后的简历数据
- `matchedJobs`: 匹配的岗位列表
- `isAnalyzing`: 解析状态
- `isMatching`: 匹配状态
- `uploadProgress`: 上传进度

### API 调用
1. `/api/analyze-resume` - 简历解析
2. `/api/match-jobs` - 岗位匹配
3. `useJobs()` - 从 Context 获取岗位列表

### 流式渲染实现
```typescript
// 逐个添加岗位，实现流式效果
for (let i = 0; i < jobsToAdd.length; i++) {
  await new Promise((resolve) => setTimeout(resolve, 400))
  setMatchedJobs((prev) => [...prev, jobsToAdd[i]])
}
```

## 🎯 环形进度条

### 颜色规则
- **绿色** (80-100分)：优秀匹配，强烈推荐
- **蓝色** (60-79分)：良好匹配，值得考虑
- **黄色** (40-59分)：一般匹配，需要评估
- **红色** (<40分)：低匹配，不推荐

### 视觉效果
- SVG 实现的圆形进度条
- 平滑的动画过渡（500ms）
- 中心显示分数数字
- 根据分数自动变色

## 📱 响应式设计

### 桌面端 (>1024px)
- 三列布局：上传区域 | 学员画像 | 推荐岗位
- 上传区域高度：600px
- Logo 位置：左上角

### 移动端 (<1024px)
- 单列布局：垂直堆叠
- 上传区域高度：500px
- Logo 位置：左上角（缩小）

## 🚀 优化建议

1. **性能优化**
   - 添加虚拟滚动（岗位列表很长时）
   - 图片懒加载
   - API 请求缓存

2. **用户体验**
   - 添加上传文件大小限制提示
   - 支持批量上传
   - 添加撤销功能

3. **功能扩展**
   - 导出匹配报告
   - 保存匹配历史
   - 分享功能

4. **AI 增强**
   - 更详细的推荐理由
   - 个性化建议
   - 职业发展路径

## 📝 注意事项

1. **文件格式**：仅支持 PDF 和 Word 文档
2. **文件大小**：建议不超过 10MB
3. **岗位数据**：需要先在岗位库中添加岗位
4. **API 配置**：确保 `.env.local` 中配置了 API Key
5. **网络状态**：解析和匹配需要网络连接

## 🎨 设计灵感

- **Linear**：简洁的界面设计，流畅的动画
- **Airbnb**：卡片式布局，清晰的信息层次
- **Notion**：优雅的交互体验，精美的视觉设计
